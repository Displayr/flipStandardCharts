{
    "collab_server" : "",
    "contents" : "## Takes a matrix, and returns a matrix of either a cumulative sum, or a cumulative sum of percentages.\ncum.data <- function(x, output = \"cumulative.percentage\") {\n    if (output == \"cumulative.sum\"){\n        x <- apply(x, 2, function(z) {cumsum(z)})\n    } else if (output == \"cumulative.percentage\") {\n        x <- apply(x, 2, function(z) {cumsum(prop.table(z))})\n    } else if (output == \"column.percentage\") {\n        x <- apply(x, 2, function(z) {prop.table(z)})\n    }\n\n    return(x)\n}\n\n## Takes a single string and puts <br> in place of the closest space preceding the n= value character.\n## E.g. if n= 20 then count 20 characters.  The space preceding character 20 is replaced by \"<br>\".\nlineBreakEveryN <- function(x, n = 21)\n{\n    start <- 1\n    final <- NULL\n    last.space <- 0\n\n    for (i in 1:nchar(x[1]))\n    {\n        my.character <- substr(x, i, i)\n        if (my.character == \" \")\n            last.space <- i\n\n        if (i %% n == 0 && last.space > 0)\n        {\n            temp <- paste(substr(x, start, last.space - 1),\"<br>\",substr(x, last.space + 1, i), sep = \"\")\n            final <- paste(final, temp, sep = \"\")\n            start <- start + n\n        }\n\n        if (i == nchar(x[1]))\n            final <- paste(final, substr(x, start, nchar(x[1])), sep = \"\")\n    }\n\n    final\n}\n\nautoFormatLongLabels <- function(x, n = 21)\n{\n    # Anything 60 characters or over gets an ellipsis from char 57 to char 60 and then nothing\n    output.text <- sapply(x, function(x) {ifelse(nchar(x) > 60, paste(substr(x, 1, 57),\"...\", sep = \"\"), x)})\n\n    # Anything over n characters gets <br> inserted in the closest space below n characters, e.g. at 20, 40, and 60 characters\n    output.text <- sapply(output.text, function(x) lineBreakEveryN(x, n))\n\n    # Don't need any attributes (names)\n    attributes(output.text) <- NULL\n\n    output.text\n}\n\n",
    "created" : 1462764385655.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2936722997",
    "id" : "6F258D29",
    "lastKnownWriteTime" : 1462937445,
    "last_content_update" : 1462937445137,
    "path" : "~/GitHub/flipStandardCharts/R/globalcharting.R",
    "project_path" : "R/globalcharting.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}